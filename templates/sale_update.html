{% extends 'base.html' %}

{% block content %}
  <div class="container mt-4">
    <h2>Update Sale</h2>
    <form method="POST" enctype="multipart/form-data">
      {% csrf_token %}
      <div class="form-group">
        <label for="product">Product:</label>
        <select name="product" id="product" class="form-control">
          {% for product in products %}
            <option value="{{ product.pk }}" {% if product.pk == sale.product.pk %}selected{% endif %}>{{ product.title }}</option>
          {% endfor %}
        </select>
      </div>
      <div class="form-group">
        <label for="customer">Customer:</label>
        <select name="customer" id="customer" class="form-control">
          {% for customer in customers %}
            <option value="{{ customer.pk }}" {% if customer.pk == sale.customer.pk %}selected{% endif %}>{{ customer.customer_name }}</option>
          {% endfor %}
        </select>
      </div>
      <div class="form-group">
        <label for="quantity">Quantity:</label>
        <input type="number" name="quantity" id="quantity" class="form-control" value="{{ sale.qty }}" required>
      </div>
      <div class="form-group">
        <label for="price">Price:</label>
        <input type="number" name="price" id="price" class="form-control" step="0.01" value="{{ sale.price }}" required>
      </div>
      <div class="form-group">
        <button type="submit" class="btn btn-primary">Update Sale</button>
        <a href="{% url 'sale_list' %}" class="btn btn-secondary">Cancel</a>
      </div>
    </form>
  </div>
{% endblock %}
